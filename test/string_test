#include <check.h>
#include <string.h>

#include "../s21_string.h"

START_TEST(test_s21_memchr) {
  char str1[] = "Hello, World!";
  char str2 = 'l';

  ck_assert_ptr_eq(s21_memchr(str1, (int)str2, 5), memchr(str1, (int)str2, 5));
}
END_TEST

START_TEST(test_s21_memcmp) {
  char str1[] = "Hello, World!";
  char str2[] = "Test string";
  char *str3 = s21_NULL;

  ck_assert_int_eq(s21_memcmp(str1, str1, 5), memcmp(str1, str1, 5));
  ck_assert_int_eq(s21_memcmp(str1, str2, 7), memcmp(str1, str2, 7));
  ck_assert_int_eq(s21_memcmp(str1, str3, 2), 1);
}
END_TEST

START_TEST(test_s21_memcpy) {
  char str1[] = "Hello, World!";
  char str2[] = "Test string";
  char *str3 = s21_NULL;

  ck_assert_ptr_eq(s21_memcpy(str1, str2, 5), memcpy(str1, str2, 5));
  ck_assert_ptr_eq(s21_memcpy(str1, str3, 5), s21_NULL);
}
END_TEST

START_TEST(test_s21_memset) {
  char str1[] = "Hello, World!";
  char str2 = 'l';

  ck_assert_ptr_eq(s21_memset(str1, (int)str2, 5), memset(str1, (int)str2, 5));
}
END_TEST

START_TEST(test_s21_strchr) {
  char str1[] = "Hello, World!";
  char str2 = 'l';

  ck_assert_ptr_eq(s21_strchr(str1, (int)str2), strchr(str1, (int)str2));
}
END_TEST

START_TEST(test_s21_strcspn) {
  char str1[] = "Hello, World!";
  char str2[] = "World!";

  ck_assert_int_eq(s21_strcspn(str1, str2), strcspn(str1, str2));
}
END_TEST

START_TEST(test_s21_strerror) {
  int errnum0 = 0;
  int errnum2 = 2;
  int errnumer1 = -1;
  int errnumer150 = 150;

  ck_assert_str_eq(s21_strerror(errnum0), strerror(errnum0));
  ck_assert_str_eq(s21_strerror(errnum2), strerror(errnum2));
  ck_assert_str_eq(s21_strerror(errnumer1), strerror(errnumer1));
  ck_assert_str_eq(s21_strerror(errnumer150), strerror(errnumer150));
}
END_TEST

// Тест для функции s21_strlen
START_TEST(test_s21_strlen) {
  char str1[] = "Hello, World!";
  char str2[] = "";
  char str3[] = "Test string";

  ck_assert_int_eq(s21_strlen(str1), strlen(str1));
  ck_assert_int_eq(s21_strlen(str2), strlen(str2));
  ck_assert_int_eq(s21_strlen(str3), strlen(str3));
}
END_TEST

START_TEST(test_s21_strncat) {
  char str1[19] = "Hello, World!";
  char str2[] = "Test string";
  char *str3 = s21_NULL;

  ck_assert_ptr_eq(s21_strncat(str1, str2, 4), strncat(str1, str2, 4));
  ck_assert_ptr_eq(s21_strncat(str1, str3, 5), s21_NULL);
}
END_TEST

// Тест для функции s21_strncmp
START_TEST(test_s21_strncmp) {
  char str1[] = "Hello, World!";
  char str2[] = "Test string";

  ck_assert_int_eq(s21_strncmp(str1, str1, 5), strncmp(str1, str1, 5));
  ck_assert_int_eq(s21_strncmp(str1, str2, 7), strncmp(str1, str2, 7));
}
END_TEST

START_TEST(test_s21_strncpy) {
  char str1[] = "Hello, World!";
  char str2[] = "Test string";

  ck_assert_ptr_eq(s21_strncpy(str1, str2, 4), strncpy(str1, str2, 4));
}
END_TEST

// Тест для функции s21_strpbrk
START_TEST(test_s21_strpbrk) {
  char str1[] = "Hello, World!";
  char str2[] = "NULL";
  char str3[] = "Test string";
  char *str4 = s21_NULL;

  ck_assert_str_eq(s21_strpbrk(str1, str1), strpbrk(str1, str1));
  ck_assert_str_eq(s21_strpbrk(str1, str3), strpbrk(str1, str3));
  ck_assert_ptr_eq(s21_strpbrk(str3, str2), strpbrk(str3, str2));
  ck_assert_ptr_eq(s21_strpbrk(str4, str2), s21_NULL);
}
END_TEST

START_TEST(test_s21_strrchr) {
  char str1[] = "Hello, World!";
  char str2 = 'l';

  ck_assert_ptr_eq(s21_strrchr(str1, (int)str2), strrchr(str1, (int)str2));
}
END_TEST

START_TEST(test_s21_strstr) {
  char str1[] = "Hello, World!";
  char str2[] = "World";

  ck_assert_ptr_eq(s21_strstr(str1, str2), strstr(str1, str2));
}
END_TEST

START_TEST(test_s21_strtok) {
  char str1[] = "Hello, World!";
  char str2[] = ",. !";

  ck_assert_ptr_eq(s21_strtok(str1, str2), s21_strtok(str1, str2));
  ck_assert_ptr_eq(s21_strtok(s21_NULL, str2), s21_strtok(s21_NULL, str2));
  ck_assert_ptr_eq(s21_strtok(s21_NULL, str2), s21_strtok(s21_NULL, str2));
}
END_TEST

START_TEST(test_s21_to_lower) {
  char str1[] = "Hello, World!";
  char str2[] = "hello, world!";
  char *result = s21_to_lower(str1);

  ck_assert_str_eq(result, str2);

  if (result) free(result);
}
END_TEST

START_TEST(test_s21_to_upper) {
  char str1[] = "Hello, World!";
  char str2[] = "HELLO, WORLD!";
  char *result = s21_to_upper(str1);

  ck_assert_str_eq(result, str2);

  if (result) free(result);
}
END_TEST

START_TEST(test_s21_insert) {
  char str1[] = "Hello, World!";
  char str2[] = "Test string";
  char str3[] = "Hello,Test string World!";
  char *str4 = s21_NULL;
  char *result;

  result = s21_insert(str1, str2, 6);
  ck_assert_str_eq(result, str3);
  if (result) free(result);

  result = s21_insert(str1, str4, 6);
  ck_assert_ptr_eq(result, s21_NULL);
}
END_TEST

START_TEST(test_s21_trim) {
  char str1[] = "Hello, World!";
  char str2[] = "He";
  char str3[] = "llo, World!";
  char *str4 = s21_NULL;
  char *result;

  result = (char *)s21_trim(str1, str2);
  ck_assert_str_eq(result, str3);

  if (result) free(result);

  result = s21_trim(str1, str4);
  ck_assert_ptr_eq(result, s21_NULL);
}
END_TEST

// c
START_TEST(test_s21_sprintf_c) {
  char str1[100] = {'\0'};
  char str2[100] = {'\0'};
  char *str3 = "%-5c Test %5c Test %c Test %c Test %c";
  int a = 9;
  int b = 10;
  int c = 17;
  int d = 66;
  int e = 124;
  ck_assert_int_eq(sprintf(str1, str3, a, b, c, d, e),
                   s21_sprintf(str2, str3, a, b, c, d, e));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// d
START_TEST(test_s21_sprintf_d) {
  char str1[100] = "";
  char str2[100] = "";
  char *str3 = "Test %d Test";
  int val = -12;
  ck_assert_int_eq(sprintf(str1, str3, val), s21_sprintf(str2, str3, val));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// e
START_TEST(test_s21_sprintf_e) {
  char str1[100] = {'\0'};
  char str2[100] = {'\0'};
  char *str3 = "%e Test %5e Test %.e";
  double num = 123.55687;
  ck_assert_int_eq(sprintf(str1, str3, num, num, num),
                   s21_sprintf(str2, str3, num, num, num));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// combined
START_TEST(test_s21_sprintf_e_1_combined_specifiers) {
  char str1[256] = {0};
  char str2[256] = {0};
  char format[] = "%+ #.0f %.2e";
  double val_float = 123.0;
  double val_exp = 0.000123;

  s21_sprintf(str1, format, val_float, val_exp);
  sprintf(str2, format, val_float, val_exp);

  ck_assert_str_eq(str1, str2);
}
END_TEST

START_TEST(test_s21_sprintf_e_sharp_flag_precision_zero) {
  char str1[256] = {0};
  char str2[256] = {0};
  char format[] = "%#.0e";
  double val = 123.0;

  s21_sprintf(str1, format, val);
  sprintf(str2, format, val);

  ck_assert_str_eq(str1, str2);
}
END_TEST

// sign spec flag
START_TEST(test_s21_sprintf_e_sign_flags) {
  char str1[256] = {0};
  char str2[256] = {0};
  char format[] = "%+e % e";
  double val = 123.456;
  double val_neg = -123.456;

  s21_sprintf(str1, format, val, val_neg);
  sprintf(str2, format, val, val_neg);

  ck_assert_str_eq(str1, str2);
}
END_TEST

START_TEST(test_s21_sprintf_e_2_combined_specifiers) {
  char str1[256] = {0};
  char str2[256] = {0};
  char format[] = "%15.2e %+10.5e %012.3e";
  double val1 = 123.456;
  double val2 = 78.901;
  double val3 = -45.678;

  s21_sprintf(str1, format, val1, val2, val3);
  sprintf(str2, format, val1, val2, val3);

  ck_assert_str_eq(str1, str2);
}
END_TEST

// left
START_TEST(test_s21_sprintf_e_left_aling) {
  char str1[256] = {0};
  char str2[256] = {0};
  char format[] = "%-15.2e %-+10.5e %-012.3e";
  double val1 = 123.456;
  double val2 = 78.901;
  double val3 = -45.678;

  s21_sprintf(str1, format, val1, val2, val3);
  sprintf(str2, format, val1, val2, val3);

  ck_assert_str_eq(str1, str2);
}

START_TEST(test_s21_sprintf_e_notation_1) {
  char str1[256] = {0};
  char str2[256] = {0};
  double val = 1.23456789e10;
  char format[] = "%e";

  s21_sprintf(str1, format, val);
  sprintf(str2, format, val);

  ck_assert_str_eq(str1, str2);
}
END_TEST

START_TEST(test_s21_sprintf_e_notation_2) {
  char str1[256] = {0};
  char str2[256] = {0};
  double val = 1.23456789e200;
  char format[] = "%e";

  s21_sprintf(str1, format, val);
  sprintf(str2, format, val);

  ck_assert_str_eq(str1, str2);
}
END_TEST

// E
START_TEST(test_s21_sprintf_E) {
  char str1[100] = {'\0'};
  char str2[100] = {'\0'};
  char *str3 = "%E Test %5E Test %.E";
  double num = 123.55687;
  ck_assert_int_eq(sprintf(str1, str3, num, num, num),
                   s21_sprintf(str2, str3, num, num, num));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// f
START_TEST(test_s21_sprintf_f) {
  char str1[100] = {'\0'};
  char str2[100] = {'\0'};
  char *str3 = "%f Test %5f Test %.f";
  double num = 123.55687;
  ck_assert_int_eq(sprintf(str1, str3, num, num, num, num),
                   s21_sprintf(str2, str3, num, num, num, num));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// # & 0
START_TEST(test_s21_sprintf_f_precision_0) {
  char str1[256];
  char str2[256];
  char format[] = "%#.0f";
  double val = 123.0;
  s21_sprintf(str1, format, val);
  sprintf(str2, format, val);
  ck_assert_str_eq(str1, str2);
}
END_TEST

// width > len
START_TEST(test_s21_sprintf_f_width_len) {
  char str1[256] = {0};
  char str2[256] = {0};
  char format[] = "%10.2f";
  double val = 12.345;

  s21_sprintf(str1, format, val);
  sprintf(str2, format, val);

  ck_assert_str_eq(str1, str2);
}
END_TEST

// minus flag
START_TEST(test_s21_sprintf_f_minus) {
  char str1[256] = {0};
  char str2[256] = {0};
  char format[] = "%-10.2f";
  double val = 12.345;

  s21_sprintf(str1, format, val);
  sprintf(str2, format, val);

  ck_assert_str_eq(str1, str2);
}
END_TEST

// g
START_TEST(test_s21_sprintf_g) {
  char str1[100] = {'\0'};
  char str2[100] = {'\0'};
  char *str3 = "%g Test %5g Test %.g";
  double num = 1234.55687;
  ck_assert_int_eq(sprintf(str1, str3, num, num, num),
                   s21_sprintf(str2, str3, num, num, num));
  ck_assert_str_eq(str1, str2);
}
END_TEST

// G
START_TEST(test_s21_sprintf_G) {
  char str1[100] = {'\0'};
  char str2[100] = {'\0'};
  char *str3 = "%G Test %5G Test %.G";
  double num = 123.55687;
  ck_assert_int_eq(sprintf(str1, str3, num, num, num),
                   s21_sprintf(str2, str3, num, num, num));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// s
START_TEST(test_s21_sprintf_s) {
  char str1[100] = {'\0'};
  char str2[100] = {'\0'};
  char *str3 = "%s Test %s Test %s";
  char *str4 = "Hello, world!";
  char *str5 = "My name is";
  char *str6 = "char";
  ck_assert_int_eq(sprintf(str1, str3, str4, str5, str6),
                   s21_sprintf(str2, str3, str4, str5, str6));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// null
START_TEST(test_s21_sprintf_null_s) {
  char str1[100] = "";
  char str2[100] = "";
  char *str3 = "Test %s Test";
  char *val = s21_NULL;
  ck_assert_int_eq(sprintf(str1, str3, val), s21_sprintf(str2, str3, val));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// Minus flag
START_TEST(test_s21_sprintf_minus_s) {
  char str1[200] = {'\0'};
  char str2[200] = {'\0'};
  char *str3 = "%-10.5s Test %-.8s Test %-7s TEST %-.s";
  char *val = "WHAT IS THIS";
  char *val2 = "i don't care anymore, really";
  char *val3 = "PPAP";
  char *val4 = "I don't feel so good";
  ck_assert_int_eq(sprintf(str1, str3, val, val2, val3, val4),
                   s21_sprintf(str2, str3, val, val2, val3, val4));
  ck_assert_pstr_eq(str1, str2);
}

// u
START_TEST(test_s21_sprintf_u) {
  char str1[100] = "";
  char str2[100] = "";
  char *str3 = "Test %u Test";
  unsigned int val = 12;
  ck_assert_int_eq(sprintf(str1, str3, val), s21_sprintf(str2, str3, val));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// %
START_TEST(test_s21_sprintf_percent) {
  char str1[100] = {'\0'};
  char str2[100] = {'\0'};
  char *str3 = "Test %o Tes%%%%t %o";
  int val = 012;
  int val2 = 017;
  ck_assert_int_eq(sprintf(str1, str3, val, val2),
                   s21_sprintf(str2, str3, val, val2));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// x
START_TEST(test_s21_sprintf_hex) {
  char str1[100] = "";
  char str2[100] = "";
  char *str3 = "Test %x Test";
  unsigned int val = 0xCAFEBABE;
  ck_assert_int_eq(sprintf(str1, str3, val), s21_sprintf(str2, str3, val));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// X
START_TEST(test_s21_sprintf_HEX) {
  char str1[100] = "";
  char str2[100] = "";
  char *str3 = "Test %X Test";
  unsigned int val = 0xCAFEBABE;
  ck_assert_int_eq(sprintf(str1, str3, val), s21_sprintf(str2, str3, val));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// o
START_TEST(test_s21_sprintf_octal) {
  char str1[100] = "";
  char str2[100] = "";
  char *str3 = "Test %o Test";
  unsigned int val = 01234567;
  ck_assert_int_eq(sprintf(str1, str3, val), s21_sprintf(str2, str3, val));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// p
START_TEST(test_s21_sprintf_pointer) {
  char str1[100] = "";
  char str2[100] = "";
  char *str3 = "Test %p Test";
  void *ptr = (void *)0x12345678;
  ck_assert_int_eq(sprintf(str1, str3, ptr), s21_sprintf(str2, str3, ptr));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// -
START_TEST(test_s21_sprintf_minus) {
  char str1[200] = {'\0'};
  char str2[200] = {'\0'};
  char *str3 = "%-10.5d Test %-.8d Test %-7d TEST %-.d";
  int val = -3015;
  int val2 = -712;
  int val3 = -99;
  int val4 = -2939;
  ck_assert_int_eq(sprintf(str1, str3, val, val2, val3, val4),
                   s21_sprintf(str2, str3, val, val2, val3, val4));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// +
START_TEST(test_s21_sprintf_plus) {
  char str1[200] = {'\0'};
  char str2[200] = {'\0'};
  char *str3 = "%+d Test %+3.d Test %+5.7d TEST %+10d";
  int val = -3015;
  int val2 = -712;
  int val3 = -99;
  int val4 = -2939;
  sprintf(str1, str3, val, val2, val3, val4);
  s21_sprintf(str2, str3, val, val2, val3, val4);
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// ' '
START_TEST(test_s21_sprintf_space) {
  char str1[200] = {'\0'};
  char str2[200] = {'\0'};
  char *str3 = "% d Test % 3.d Test % 5.7d TEST % 10d GOD %.d";
  int val = -32;
  int val2 = -8899;
  int val3 = -91918;
  int val4 = -32311;
  int val5 = -23;
  sprintf(str1, str3, val, val2, val3, val4, val5);
  s21_sprintf(str2, str3, val, val2, val3, val4, val5);
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// #
START_TEST(test_s21_sprintf_sharp) {
  char str1[200] = {'\0'};
  char str2[200] = {'\0'};
  char *str3 = "%#f Test %#3d Test %#5.7d TEST %#.7d Oof %#.d";
  int val = -32;
  int val2 = 8899;
  int val3 = -91918;
  int val4 = 32311;
  int val5 = -8894;
  sprintf(str1, str3, val, val2, val3, val4, val5);
  s21_sprintf(str2, str3, val, val2, val3, val4, val5);
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// #o
START_TEST(test_s21_sprintf_convert_num_sharp) {
  char str1[256] = {0};
  char str2[256] = {0};
  unsigned int val = 123;
  char format[] = "%#o";

  s21_sprintf(str1, format, val);
  sprintf(str2, format, val);

  ck_assert_str_eq(str1, str2);
}
END_TEST

// 0
START_TEST(test_s21_sprintf_zero) {
  char str1[200] = {'\0'};
  char str2[200] = {'\0'};
  char *str3 = "%0d Test %06d Test %05.7d TEST %0.7d Oof %0.d";
  int val = -32;
  int val2 = 8899;
  int val3 = -91918;
  int val4 = -32311;
  int val5 = -8894;
  sprintf(str1, str3, val, val2, val3, val4, val5);
  s21_sprintf(str2, str3, val, val2, val3, val4, val5);
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// ширина (число)
START_TEST(test_s21_sprintf_width_number) {
  char str1[100] = {'\0'};
  char str2[100] = {'\0'};
  char *str3 = "%3d Test %5d Test %10d";
  int val = -3015;
  int val2 = -11234;
  int val3 = -99;
  ck_assert_int_eq(sprintf(str1, str3, val, val2, val3),
                   s21_sprintf(str2, str3, val, val2, val3));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// ширина *
START_TEST(test_s21_sprintf_width_asterisk) {
  char str1[200] = {'\0'};
  char str2[200] = {'\0'};
  char *str3 = "%*d Test %-*d Test %*.*d TEST %.*d";
  int val = 32;
  int val2 = 8899;
  int val3 = -919;
  int val4 = 32311;
  int ast = 2;
  int ast2 = 5;
  int ast3 = 4;
  int ast4 = 10;
  int ast5 = 7;
  sprintf(str1, str3, ast, val, ast2, val2, ast3, ast4, val3, ast5, val4);
  s21_sprintf(str2, str3, ast, val, ast2, val2, ast3, ast4, val3, ast5, val4);
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// точность .(число)
START_TEST(test_s21_sprintf_accuracy_number) {
  char str1[200] = {'\0'};
  char str2[200] = {'\0'};
  char *str3 = "%6.5d Test %.23d Test %3.d TEST %.d %.6d";
  int val = -3015;
  int val2 = -712;
  int val3 = -99;
  int val4 = -38;
  int val5 = -100;
  ck_assert_int_eq(sprintf(str1, str3, val, val2, val3, val4, val5),
                   s21_sprintf(str2, str3, val, val2, val3, val4, val5));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// точность .*
START_TEST(test_s21_sprintf_accuracy_asterisk) {
  char str1[200] = {'\0'};
  char str2[200] = {'\0'};
  char *str3 = "%*d Test %-*d Test %*.*d TEST %.*d";
  int val = 32;
  int val2 = 8899;
  int val3 = -919;
  int val4 = 32311;
  int ast = 2;
  int ast2 = 5;
  int ast3 = 4;
  int ast4 = 10;
  int ast5 = 7;
  sprintf(str1, str3, ast, val, ast2, val2, ast3, ast4, val3, ast5, val4);
  s21_sprintf(str2, str3, ast, val, ast2, val2, ast3, ast4, val3, ast5, val4);
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// длина h
START_TEST(test_s21_sprintf_lenght_h) {
  char str1[100] = {'\0'};
  char str2[100] = {'\0'};
  char *str3 = "%ld Test %ld Test %hd GOD %hd";
  long int val = 3088675747373646;
  long val2 = 33030030303;
  short int val3 = 22600;
  short val4 = -120;
  ck_assert_int_eq(sprintf(str1, str3, val, val2, val3, val4),
                   s21_sprintf(str2, str3, val, val2, val3, val4));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// длина l
START_TEST(test_s21_sprintf_lenght_l) {
  char str1[100] = {'\0'};
  char str2[100] = {'\0'};
  char *str3 = "%ld Test %ld Test %hd GOD %hd";
  long int val = 3088675747373646;
  long val2 = 33030030303;
  short int val3 = 22600;
  short val4 = -120;
  ck_assert_int_eq(sprintf(str1, str3, val, val2, val3, val4),
                   s21_sprintf(str2, str3, val, val2, val3, val4));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// l unsign
START_TEST(test_s21_sprintf_length_l_unsigned) {
  char str1[256] = {0};
  char str2[256] = {0};
  unsigned long val = 1234567890UL;
  char format[] = "%lu";

  s21_sprintf(str1, format, val);
  sprintf(str2, format, val);

  ck_assert_str_eq(str1, str2);
}
END_TEST

// h unsign
START_TEST(test_s21_sprintf_length_h_unsigned) {
  char str1[256] = {0};
  char str2[256] = {0};
  unsigned int val = 65530U;
  char format[] = "%hu";

  s21_sprintf(str1, format, val);
  sprintf(str2, format, val);

  ck_assert_str_eq(str1, str2);
}
END_TEST

// длина L
START_TEST(test_s21_sprintf_lenght_L) {
  char str1[400] = {'\0'};
  char str2[400] = {'\0'};
  char *str3 = "test: %+0Lf!\ntest: %.6Lf!\ntest: %.13Lf!";
  long double num = -236310753.6495633;
  ck_assert_int_eq(sprintf(str1, str3, num, num, num),
                   s21_sprintf(str2, str3, num, num, num));
  ck_assert_pstr_eq(str1, str2);
}
END_TEST

// s21_sscanf
START_TEST(test_s21_sscanf_f_width) {
  char format[] = "%4f";
  char string[] = "3.14159";
  float std_f, s21_f;
  int std_ret, s21_ret;
  std_ret = sscanf(string, format, &std_f);
  s21_ret = s21_sscanf(string, format, &s21_f);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_f, s21_f);
}
END_TEST

START_TEST(test_s21_sscanf_d) {
  char format[] = "%d";
  char string[] = "42";
  int std_d, s21_d;
  int std_ret, s21_ret;
  std_ret = sscanf(string, format, &std_d);
  s21_ret = s21_sscanf(string, format, &s21_d);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_d, s21_d);
}
END_TEST

START_TEST(test_s21_sscanf_c) {
  char format[] = "%c";
  char string[] = "a";
  char std_c, s21_c;
  int std_ret, s21_ret;
  std_ret = sscanf(string, format, &std_c);
  s21_ret = s21_sscanf(string, format, &s21_c);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_c, s21_c);
}
END_TEST

START_TEST(test_s21_sscanf_c_with_width) {
  char format[] = "%5c";
  char string[] = "asfdhdf";
  char std_c, s21_c;
  int std_ret, s21_ret;
  std_ret = sscanf(string, format, &std_c);
  s21_ret = s21_sscanf(string, format, &s21_c);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_c, s21_c);
}
END_TEST

START_TEST(test_s21_sscanf_c_in_NULL) {
  char format[] = "%c";
  char string[] = "a";
  int std_ret, s21_ret;
  std_ret = sscanf(string, format, NULL);
  s21_ret = s21_sscanf(string, format, NULL);
  ck_assert_int_eq(std_ret, s21_ret);
}
END_TEST

START_TEST(test_s21_sscanf_c_in_NULL_with_width) {
  char format[] = "%2c";
  char string[] = "a";
  int std_ret, s21_ret;
  std_ret = sscanf(string, format, NULL);
  s21_ret = s21_sscanf(string, format, NULL);
  ck_assert_int_eq(std_ret, s21_ret);
}
END_TEST

START_TEST(test_s21_sscanf_s_in_NULL) {
  char format[] = "%s";
  char string[] = "asadfhsdfgads";
  int std_ret, s21_ret;
  std_ret = sscanf(string, format, NULL);
  s21_ret = s21_sscanf(string, format, NULL);
  ck_assert_int_eq(std_ret, s21_ret);
}
END_TEST

START_TEST(test_s21_sscanf_s_in_NULL_with_width) {
  char format[] = "%2s";
  char string[] = "afdhsdfhsdf";
  int std_ret, s21_ret;
  std_ret = sscanf(string, format, NULL);
  s21_ret = s21_sscanf(string, format, NULL);
  ck_assert_int_eq(std_ret, s21_ret);
}
END_TEST

START_TEST(test_s21_sscanf_s) {
  char format[] = "%s";
  char string[] = "hello";
  char std_s[10], s21_s[10];
  int std_ret, s21_ret;
  std_ret = sscanf(string, format, std_s);
  s21_ret = s21_sscanf(string, format, s21_s);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_str_eq(std_s, s21_s);
}
END_TEST

START_TEST(test_s21_sscanf_p) {
  char format[] = "%p";
  char string[] = "0x1234";
  void *std_p, *s21_p;
  int std_ret, s21_ret;
  std_ret = sscanf(string, format, &std_p);
  s21_ret = s21_sscanf(string, format, &s21_p);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_ptr_eq(std_p, s21_p);
}
END_TEST

START_TEST(test_s21_sscanf_p_big) {
  char format[] = "%p";
  char string[] = "0x123456789ABcDEF0";
  void *std_p, *s21_p;
  int std_ret, s21_ret;
  std_ret = sscanf(string, format, &std_p);
  s21_ret = s21_sscanf(string, format, &s21_p);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_ptr_eq(std_p, s21_p);
}
END_TEST

START_TEST(test_s21_sscanf_n) {
  char format[] = "%*d%n";
  char string[] = "42";
  int std_n, s21_n;
  int std_ret, s21_ret;
  std_ret = sscanf(string, format, &std_n);
  s21_ret = s21_sscanf(string, format, &s21_n);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_n, s21_n);
}
END_TEST

START_TEST(test_s21_sscanf_whitespace_handling) {
  char format[] = " %4f";
  char string[] = " 3.14159";
  float std_f1, s21_f1;
  int std_ret1, s21_ret1;
  std_ret1 = sscanf(string, format, &std_f1);
  s21_ret1 = s21_sscanf(string, format, &s21_f1);
  ck_assert_int_eq(std_ret1, s21_ret1);
  ck_assert_float_eq(std_f1, s21_f1);
}
END_TEST

START_TEST(test_s21_sscanf_percent_sign_handling) {
  char string[] = "%";
  int std_ret, s21_ret;
  std_ret = sscanf(string, "%%");
  s21_ret = s21_sscanf(string, "%%");
  ck_assert_int_eq(std_ret, s21_ret);
}
END_TEST

START_TEST(test_s21_sscanf_percent_sign_mismatch) {
  char string[] = "a";
  int std_ret, s21_ret;
  std_ret = sscanf(string, "%%");
  s21_ret = s21_sscanf(string, "%%");
  ck_assert_int_eq(std_ret, s21_ret);
}
END_TEST

START_TEST(test_s21_sscanf_eof_handling) {
  char format[] = "%d";
  char string[] = "";
  int std_d, s21_d;
  int std_ret, s21_ret;
  std_ret = sscanf(string, format, &std_d);
  s21_ret = s21_sscanf(string, format, &s21_d);
  ck_assert_int_eq(std_ret, s21_ret);
}
END_TEST

START_TEST(test_s21_sscanf_char_match) {
  char string[] = "a";
  int std_ret, s21_ret;
  std_ret = sscanf(string, "a");
  s21_ret = s21_sscanf(string, "a");
  ck_assert_int_eq(std_ret, s21_ret);
}
END_TEST

START_TEST(test_s21_sscanf_char_mismatch) {
  char string[] = "b";
  int std_ret, s21_ret;
  std_ret = sscanf(string, "a");
  s21_ret = s21_sscanf(string, "a");
  ck_assert_int_eq(std_ret, s21_ret);
}
END_TEST

START_TEST(test_s21_valid_hex_float_prefix_length_hex_prefix_check) {
  char str[] = "0x1a";
  char format[] = "%f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_hex_float_prefix_length_hex_digits_check) {
  char str[] = "0x1a";
  char format[] = "%f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_hex_float_prefix_length_dot_check) {
  char str[] = "0x1a.";
  char format[] = "%f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_hex_float_prefix_length_after_dot_check) {
  char str[] = "0x1a.0";
  char format[] = "%f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_hex_float_prefix_length_exponent_check) {
  char str[] = "0x1aP1";
  char format[] = "%f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_hex_float_prefix_length_exponent_sign_check) {
  char str[] = "0x1aP+1";
  char format[] = "%f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_hex_float_prefix_length_exponent_digits_check) {
  char str[] = "0x1aP10";
  char format[] = "%f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_hex_float_prefix_length_no_exponent_digits_check) {
  char str[] = "0x1aP";
  char format[] = "%f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_hex_float_prefix_length_return_index_check) {
  char str[] = "0x1a";
  char format[] = "%f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_float_prefix_length_sign_check) {
  char str[] = "+123.45";
  char format[] = "%f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_float_prefix_length_nan_check) {
  char str[] = "NAN(1)";
  char format[] = "%f";
  double std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_float_prefix_length_inf_3_check) {
  char str[] = "inf(3))";
  char format[] = "%f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_float_prefix_length_infinity_check) {
  char str[] = "infinity";
  char format[] = "%f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_float_prefix_length_hex_prefix_check) {
  char str[] = "0x1a";
  char format[] = "%f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_float_prefix_length_decimal_check) {
  char str[] = "123.45";
  char format[] = "%f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_float_prefix_length_hex_float_check) {
  char str[] = "0x1aP1";
  char format[] = "%f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_float_prefix_length_hex_float_with_width_check) {
  char str[] = "0x1aP1";
  char format[] = "%10f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_float_prefix_length_decimal_with_width_check) {
  char str[] = "123.45";
  char format[] = "%10f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_convert_int_pointer_signed_char) {
  char str[] = "127";
  char format[] = "%hhd";
  signed char std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_convert_int_pointer_unsigned_char) {
  char str[] = "255";
  char format[] = "%hhu";
  unsigned char std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_convert_int_pointer_signed_short) {
  char str[] = "32767";
  char format[] = "%hd";
  short std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_convert_int_pointer_unsigned_short) {
  char str[] = "65535";
  char format[] = "%hu";
  unsigned short std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_convert_int_pointer_signed_long) {
  char str[] = "2147483647";
  char format[] = "%ld";
  long std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_convert_int_pointer_unsigned_long) {
  char str[] = "4294967295";
  char format[] = "%lu";
  unsigned long std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_convert_int_pointer_signed_long_long) {
  char str[] = "9223372036854775807";
  char format[] = "%lld";
  long long std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_convert_int_pointer_big_long_long) {
  char str[] = "9223372036854775807";
  char format[] = "%Ld";
  long long std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_convert_int_pointer_unsigned_long_long) {
  char str[] = "18446744073709551615";
  char format[] = "%llu";
  unsigned long long std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_convert_int_pointer_signed_int) {
  char str[] = "2147483647";
  char format[] = "%d";
  int std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_convert_int_pointer_unsigned_int) {
  char str[] = "4294967295";
  char format[] = "%u";
  unsigned int std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_scan_int_decimal) {
  char str[] = "12345";
  char format[] = "%d";
  int std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_scan_int_decimal_max) {
  char str[] = "18446744073999997";
  char format[] = "%hd";
  short std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_scan_int_hexadecimal) {
  char str[] = "0x1a";
  char format[] = "%x";
  int std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_scan_int_octal) {
  char str[] = "0123";
  char format[] = "%o";
  int std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_scan_int_negative_decimal) {
  char str[] = "-12345";
  char format[] = "%d";
  int std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_scan_int_negative_hexadecimal) {
  char str[] = "-0x1a";
  char format[] = "%x";
  int std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_scan_int_negative_octal) {
  char str[] = "-0123";
  char format[] = "%o";
  int std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_scan_int_positive_decimal) {
  char str[] = "+12345";
  char format[] = "%d";
  int std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_scan_int_positive_hexadecimal) {
  char str[] = "+0x1a";
  char format[] = "%x";
  int std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_scan_int_positive_octal) {
  char str[] = "+0123";
  char format[] = "%o";
  int std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_scan_int_field_width) {
  char str[] = "1234567890";
  char format[] = "%5d";
  int std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_int_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_valid_decimal_float_prefix_length_with_exponent_sign) {
  char str[] = "123.45e+10";
  char format[] = "%f";
  float std_val, s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_float_eq(std_val, s21_val);
}
END_TEST

START_TEST(test_s21_handle_int_specifiers_suppress_hexadecimal) {
  char str[] = "0x1a";
  int std_ret, s21_ret;
  std_ret = sscanf(str, "%*x");
  s21_ret = s21_sscanf(str, "%*x");
  ck_assert_int_eq(std_ret, s21_ret);
}
END_TEST

START_TEST(test_s21_handle_int_specifiers_suppress_integer) {
  char str[] = "+0x1a";
  int std_ret, s21_ret;
  std_ret = sscanf(str, "%*i");
  s21_ret = s21_sscanf(str, "%*i");
  ck_assert_int_eq(std_ret, s21_ret);
}
END_TEST

START_TEST(test_sscanf_pointer) {
  char str[20] = "0x1234";
  char format[] = "%p";
  void *std_val, *s21_val;
  int std_ret, s21_ret;
  std_ret = sscanf(str, format, &std_val);
  s21_ret = s21_sscanf(str, format, &s21_val);
  ck_assert_int_eq(std_ret, s21_ret);
  ck_assert_ptr_eq(std_val, s21_val);
}
END_TEST

Suite *s21_string_suite(void) {
  Suite *s;
  TCase *tc_core;

  s = suite_create("S21_String");

  tc_core = tcase_create("Core");

  tcase_add_test(tc_core, test_s21_memchr);
  tcase_add_test(tc_core, test_s21_memcmp);
  tcase_add_test(tc_core, test_s21_memcpy);
  tcase_add_test(tc_core, test_s21_memset);
  tcase_add_test(tc_core, test_s21_strchr);
  tcase_add_test(tc_core, test_s21_strcspn);
  tcase_add_test(tc_core, test_s21_strerror);
  tcase_add_test(tc_core, test_s21_strlen);
  tcase_add_test(tc_core, test_s21_strncat);
  tcase_add_test(tc_core, test_s21_strncmp);
  tcase_add_test(tc_core, test_s21_strncpy);
  tcase_add_test(tc_core, test_s21_strpbrk);
  tcase_add_test(tc_core, test_s21_strrchr);
  tcase_add_test(tc_core, test_s21_strstr);
  tcase_add_test(tc_core, test_s21_strtok);
  tcase_add_test(tc_core, test_s21_to_lower);
  tcase_add_test(tc_core, test_s21_to_upper);
  tcase_add_test(tc_core, test_s21_insert);
  tcase_add_test(tc_core, test_s21_trim);

  // s21_sprintf
  tcase_add_test(tc_core, test_s21_sprintf_c);
  tcase_add_test(tc_core, test_s21_sprintf_d);
  tcase_add_test(tc_core, test_s21_sprintf_e);
  tcase_add_test(tc_core, test_s21_sprintf_e_1_combined_specifiers);
  tcase_add_test(tc_core, test_s21_sprintf_e_sharp_flag_precision_zero);
  tcase_add_test(tc_core, test_s21_sprintf_e_sign_flags);
  tcase_add_test(tc_core, test_s21_sprintf_e_2_combined_specifiers);
  tcase_add_test(tc_core, test_s21_sprintf_e_left_aling);
  tcase_add_test(tc_core, test_s21_sprintf_e_notation_1);
  tcase_add_test(tc_core, test_s21_sprintf_e_notation_2);
  tcase_add_test(tc_core, test_s21_sprintf_E);
  tcase_add_test(tc_core, test_s21_sprintf_f);
  tcase_add_test(tc_core, test_s21_sprintf_f_precision_0);
  tcase_add_test(tc_core, test_s21_sprintf_f_width_len);
  tcase_add_test(tc_core, test_s21_sprintf_f_minus);
  tcase_add_test(tc_core, test_s21_sprintf_g);
  tcase_add_test(tc_core, test_s21_sprintf_G);
  tcase_add_test(tc_core, test_s21_sprintf_s);
  tcase_add_test(tc_core, test_s21_sprintf_null_s);
  tcase_add_test(tc_core, test_s21_sprintf_minus_s);
  tcase_add_test(tc_core, test_s21_sprintf_u);
  tcase_add_test(tc_core, test_s21_sprintf_percent);
  tcase_add_test(tc_core, test_s21_sprintf_hex);
  tcase_add_test(tc_core, test_s21_sprintf_HEX);
  tcase_add_test(tc_core, test_s21_sprintf_octal);
  tcase_add_test(tc_core, test_s21_sprintf_pointer);
  tcase_add_test(tc_core, test_s21_sprintf_minus);
  tcase_add_test(tc_core, test_s21_sprintf_plus);
  tcase_add_test(tc_core, test_s21_sprintf_space);
  tcase_add_test(tc_core, test_s21_sprintf_sharp);
  tcase_add_test(tc_core, test_s21_sprintf_convert_num_sharp);
  tcase_add_test(tc_core, test_s21_sprintf_zero);
  tcase_add_test(tc_core, test_s21_sprintf_width_number);
  tcase_add_test(tc_core, test_s21_sprintf_width_asterisk);
  tcase_add_test(tc_core, test_s21_sprintf_accuracy_number);
  tcase_add_test(tc_core, test_s21_sprintf_accuracy_asterisk);
  tcase_add_test(tc_core, test_s21_sprintf_lenght_h);
  tcase_add_test(tc_core, test_s21_sprintf_lenght_l);
  tcase_add_test(tc_core, test_s21_sprintf_length_l_unsigned);
  tcase_add_test(tc_core, test_s21_sprintf_length_h_unsigned);
  tcase_add_test(tc_core, test_s21_sprintf_lenght_L);

  // s21_sscanf
  tcase_add_test(tc_core, test_s21_sscanf_f_width);
  tcase_add_test(tc_core, test_s21_sscanf_d);
  tcase_add_test(tc_core, test_s21_sscanf_c);
  tcase_add_test(tc_core, test_s21_sscanf_c_with_width);
  tcase_add_test(tc_core, test_s21_sscanf_c_in_NULL);
  tcase_add_test(tc_core, test_s21_sscanf_c_in_NULL_with_width);
  tcase_add_test(tc_core, test_s21_sscanf_s);
  tcase_add_test(tc_core, test_s21_sscanf_s_in_NULL);
  tcase_add_test(tc_core, test_s21_sscanf_s_in_NULL_with_width);
  tcase_add_test(tc_core, test_s21_sscanf_p);
  tcase_add_test(tc_core, test_s21_sscanf_p_big);
  tcase_add_test(tc_core, test_s21_sscanf_n);
  tcase_add_test(tc_core, test_s21_sscanf_whitespace_handling);
  tcase_add_test(tc_core, test_s21_sscanf_percent_sign_handling);
  tcase_add_test(tc_core, test_s21_sscanf_percent_sign_mismatch);
  tcase_add_test(tc_core, test_s21_sscanf_eof_handling);
  tcase_add_test(tc_core, test_s21_sscanf_char_match);
  tcase_add_test(tc_core, test_s21_sscanf_char_mismatch);
  tcase_add_test(tc_core,
                 test_s21_valid_hex_float_prefix_length_hex_prefix_check);
  tcase_add_test(tc_core,
                 test_s21_valid_hex_float_prefix_length_hex_digits_check);
  tcase_add_test(tc_core, test_s21_valid_hex_float_prefix_length_dot_check);
  tcase_add_test(tc_core,
                 test_s21_valid_hex_float_prefix_length_after_dot_check);
  tcase_add_test(tc_core,
                 test_s21_valid_hex_float_prefix_length_exponent_check);
  tcase_add_test(tc_core,
                 test_s21_valid_hex_float_prefix_length_exponent_sign_check);
  tcase_add_test(tc_core,
                 test_s21_valid_hex_float_prefix_length_exponent_digits_check);
  tcase_add_test(
      tc_core, test_s21_valid_hex_float_prefix_length_no_exponent_digits_check);
  tcase_add_test(tc_core,
                 test_s21_valid_hex_float_prefix_length_return_index_check);
  tcase_add_test(tc_core, test_s21_valid_float_prefix_length_sign_check);
  tcase_add_test(tc_core, test_s21_valid_float_prefix_length_nan_check);
  tcase_add_test(tc_core, test_s21_valid_float_prefix_length_infinity_check);
  tcase_add_test(tc_core, test_s21_valid_float_prefix_length_inf_3_check);
  tcase_add_test(tc_core, test_s21_valid_float_prefix_length_hex_prefix_check);
  tcase_add_test(tc_core, test_s21_valid_float_prefix_length_decimal_check);
  tcase_add_test(tc_core, test_s21_valid_float_prefix_length_hex_float_check);
  tcase_add_test(tc_core,
                 test_s21_valid_float_prefix_length_hex_float_with_width_check);
  tcase_add_test(tc_core,
                 test_s21_valid_float_prefix_length_decimal_with_width_check);
  tcase_add_test(tc_core, test_s21_convert_int_pointer_signed_char);
  tcase_add_test(tc_core, test_s21_convert_int_pointer_unsigned_char);
  tcase_add_test(tc_core, test_s21_convert_int_pointer_signed_short);
  tcase_add_test(tc_core, test_s21_convert_int_pointer_unsigned_short);
  tcase_add_test(tc_core, test_s21_convert_int_pointer_signed_long);
  tcase_add_test(tc_core, test_s21_convert_int_pointer_unsigned_long);
  tcase_add_test(tc_core, test_s21_convert_int_pointer_signed_long_long);
  tcase_add_test(tc_core, test_s21_convert_int_pointer_big_long_long);
  tcase_add_test(tc_core, test_s21_convert_int_pointer_unsigned_long_long);
  tcase_add_test(tc_core, test_s21_convert_int_pointer_signed_int);
  tcase_add_test(tc_core, test_s21_convert_int_pointer_unsigned_int);
  tcase_add_test(tc_core, test_s21_scan_int_decimal);
  tcase_add_test(tc_core, test_s21_scan_int_decimal_max);
  tcase_add_test(tc_core, test_s21_scan_int_hexadecimal);
  tcase_add_test(tc_core, test_s21_scan_int_octal);
  tcase_add_test(tc_core, test_s21_scan_int_negative_decimal);
  tcase_add_test(tc_core, test_s21_scan_int_negative_hexadecimal);
  tcase_add_test(tc_core, test_s21_scan_int_negative_octal);
  tcase_add_test(tc_core, test_s21_scan_int_positive_decimal);
  tcase_add_test(tc_core, test_s21_scan_int_positive_hexadecimal);
  tcase_add_test(tc_core, test_s21_scan_int_positive_octal);
  tcase_add_test(tc_core, test_s21_scan_int_field_width);
  tcase_add_test(tc_core,
                 test_s21_valid_decimal_float_prefix_length_with_exponent_sign);
  tcase_add_test(tc_core, test_s21_handle_int_specifiers_suppress_hexadecimal);
  tcase_add_test(tc_core, test_s21_handle_int_specifiers_suppress_integer);
  tcase_add_test(tc_core, test_sscanf_pointer);

  suite_add_tcase(s, tc_core);

  return s;
}

int main() {
  Suite *s;
  SRunner *sr;

  s = s21_string_suite();
  sr = srunner_create(s);

  srunner_run_all(sr, CK_VERBOSE);

  int number_failed = srunner_ntests_failed(sr);

  return (number_failed == 0) ? 0 : 1;
}
